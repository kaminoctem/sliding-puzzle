(this["webpackJsonpsliding-puzzle"]=this["webpackJsonpsliding-puzzle"]||[]).push([[0],{16:function(t,e,o){},20:function(t,e,o){},23:function(t,e,o){"use strict";o.r(e);var n=o(6),i=o.n(n),r=o(10),a=o.n(r),s=(o(16),o(2)),c=o(11),l=(o(17),o(18),o(19),o(20),o(3)),u=o(5),d=o(4),h=o(1),f=o.n(h),v=o(8),g={PRELOAD:"preload",SLIDING_PUZZLE:"sliding_puzzle"},x={key:g.PRELOAD,active:!0},m=function(t){Object(u.a)(o,t);var e=Object(d.a)(o);function o(){var t;return Object(l.a)(this,o),(t=e.call(this,x)).nextSceneKey=void 0,t.nextSceneData=void 0,t.nextSceneKey="",t.nextSceneData={},t}return Object(v.a)(o,[{key:"init",value:function(t){this.nextSceneKey=t.nextSceneKey,this.nextSceneData=t.nextSceneData}},{key:"preload",value:function(){}},{key:"create",value:function(t){this.cameras.main.setBackgroundColor("#000000"),this.scene.start(this.nextSceneKey,this.nextSceneData)}},{key:"update",value:function(){}}]),o}(f.a.Scene),b=o(7),p={align:"center",fontSize:"16px",fontFamily:"Segoe UI",textColor:"black",textOverColor:"black",textDownColor:"black",textUpColor:"black",buttonColor:8947848,buttonOverColor:7829367,buttonDownColor:6710886,buttonUpColor:5592405,buttonAlpha:1,borderColor:8947848,borderAlpha:1},C=function(t){Object(u.a)(o,t);var e=Object(d.a)(o);function o(t){var n;Object(l.a)(this,o);var i=Object(s.a)(Object(s.a)({},p),t);(n=e.call(this,i.scene,i.x,i.y)).text=void 0,n.container=void 0,n.scene=i.scene,n.scene.add.existing(Object(b.a)(n)),n.setSize(i.width,i.height),n.setInteractive({useHandCursor:!0});var r="left"===i.align;return n.text=n.scene.add.text(r?-i.width/2+0:0,-1,i.text,{align:i.align,fontSize:i.fontSize,color:i.textColor,fontFamily:i.fontFamily}).setOrigin(r?0:.5,.5).setPadding(0,2,0,0),t.textColor&&n.text.setColor(t.textColor),n.container=i.scene.add.rectangle(0,0,i.width,i.height,i.buttonColor,i.buttonAlpha),n.container.setStrokeStyle(1,i.borderColor).setOrigin(r?0:.5,.5),n.add([n.container,n.text]),n.on("pointerover",(function(){n.updateButton("pointer over",i.textOverColor,i.buttonOverColor)})),n.on("pointerout",(function(){n.updateButton("pointer out",i.textColor,i.buttonColor)})),n.on("pointerdown",(function(){n.updateButton("pointer down",i.textDownColor,i.buttonDownColor),n.scene.tweens.add({targets:Object(b.a)(n),scaleX:1.1,scaleY:1.1,duration:100,yoyo:!0,repeat:0,ease:"Sine.easeInOut"})})),n.on("pointerup",(function(){n.updateButton("pointer up",i.textUpColor,i.buttonUpColor),i.onClick()})),n}return Object(v.a)(o,[{key:"updateButton",value:function(t,e,o){this.text.setColor(e),void 0!==o&&this.container.setFillStyle(o)}}]),o}(f.a.GameObjects.Container),O={align:"center",fontSize:"16px",fontFamily:"Segoe UI",textColor:"black",backgroundColor:16777215,backgroundAlpha:1,borderColor:8947848,borderAlpha:1},P=function(t){Object(u.a)(o,t);var e=Object(d.a)(o);function o(t){var n;Object(l.a)(this,o);var i=Object(s.a)(Object(s.a)({},O),t);(n=e.call(this,i.scene,i.x,i.y)).text=void 0,n.container=void 0,n.scene=i.scene,n.scene.add.existing(Object(b.a)(n)),n.setSize(i.width,i.height);var r="left"===i.align;return n.text=n.scene.add.text(r?-i.width/2+0:0,-1,i.text,{align:i.align,fontSize:i.fontSize,color:i.textColor,fontFamily:i.fontFamily}).setOrigin(r?0:.5,.5).setPadding(0,0,0,0),t.textColor&&n.text.setColor(t.textColor),n.container=n.scene.add.rectangle(0,0,i.width,i.height,i.backgroundColor,i.backgroundAlpha),n.container.setStrokeStyle(1,i.borderColor).setOrigin(r?0:.5,.5),n.add(n.container),n.add(n.text),n}return o}(f.a.GameObjects.Container),j=o.p+"static/media/sliding-puzzle-background-1.d713769f.png",k=o.p+"static/media/sliding-puzzle-background-2.351822e2.png",y=o.p+"static/media/sliding-puzzle-background-3.f4ed29eb.png",S="background1",B="background2",z="background3",w={frameWidth:180,frameHeight:180,margin:0},M={fontSize:"32px",color:"#5755d9"},T=[S,B,z];function D(t){var e=parseInt("".concat(t%1e3/100)),o=Math.floor(t/1e3%60),n=Math.floor(t/6e4%60),i=Math.floor(t/36e5%24),r=n<10?"0"+n:n,a=o<10?"0"+o:o;return"".concat(i<10?"0"+i:i,":").concat(r,":").concat(a,".").concat(e)}var X=function(t){Object(u.a)(o,t);var e=Object(d.a)(o);function o(){var t;return Object(l.a)(this,o),(t=e.call(this,{key:g.SLIDING_PUZZLE,active:!1})).localTimer=void 0,t.timerText=void 0,t.timerMs=void 0,t.moveCount=void 0,t.moveCountText=void 0,t.startButton=void 0,t.screenButton=void 0,t.messageBox=void 0,t.closeMessageBoxButton=void 0,t.group=void 0,t.timerMs=0,t.moveCount=0,t}return Object(v.a)(o,[{key:"init",value:function(t){}},{key:"preload",value:function(){this.load.spritesheet(S,j,w),this.load.spritesheet(B,k,w),this.load.spritesheet(z,y,w)}},{key:"create",value:function(t){this.cameras.main.setBackgroundColor("#303742"),this.createStartButton("Start!"),this.createScreenButton("startFullscreen")}},{key:"update",value:function(t,e){}},{key:"pieceHandleInputDown",value:function(t,e,o,n,i){this.checkComplete()||(this.movePiece(t)&&this.addMoveCount(),this.checkComplete()&&(this.stopTimer(),this.createMessageBox("Time: ".concat(D(this.timerMs),"\nMove Count: ").concat(this.moveCount,"\nCongratulation!"))))}},{key:"createPuzzle",value:function(){var t=this;this.group&&this.group.destroy(!0,!1),this.group=this.add.group();for(var e=Math.floor(Math.random()*T.length),o=0,n=0;n<4;n++)for(var i=function(i){var r=w.frameWidth,a=w.frameHeight?w.frameHeight:0,s=i*r+r/2,c=n*a+a/2;if(0===i&&0===n){var l=t.group.create(s,c,T[e],o,!1);return l.initialPositionX=i,l.initialPositionY=n,l.currentPositionX=i,l.currentPositionY=n,o++,"continue"}var u=t.group.create(s,c,T[e],o);u.initialPositionX=i,u.initialPositionY=n,u.currentPositionX=i,u.currentPositionY=n,u.setInteractive().on("pointerdown",(function(e,o,n,i){return t.pieceHandleInputDown(u,e,o,n,i)}),t),o++},r=0;r<4;r++)i(r);this.shufflePieces()}},{key:"resetMoveCount",value:function(){this.moveCount=0,this.moveCountText&&this.moveCountText.destroy(),this.moveCountText=this.add.text(840,440,"Move Count: ".concat(this.moveCount),M)}},{key:"addMoveCount",value:function(){this.moveCount++,this.moveCountText&&(this.moveCountText.text="Move Count: ".concat(this.moveCount))}},{key:"startTimer",value:function(){var t=this;this.timerMs=0,this.timerText&&this.timerText.destroy(),this.timerText=this.add.text(840,400,"Time: ".concat(D(this.timerMs)),M);var e={delay:100,loop:!0,startAt:0,timeScale:1,callback:function(){t.localTimer&&t.timerText&&(t.timerMs+=t.localTimer.getElapsed(),t.timerText.text="Time: ".concat(D(t.timerMs)))}};this.localTimer?this.localTimer.reset(e):this.localTimer=this.time.addEvent(e)}},{key:"stopTimer",value:function(){this.localTimer&&(this.localTimer.paused=!0)}},{key:"createStartButton",value:function(t){var e=this;this.startButton&&this.startButton.destroy(!0),this.startButton=new C({scene:this,borderColor:3552466,buttonColor:4341972,buttonOverColor:4341972,buttonDownColor:3815634,buttonUpColor:4341972,textColor:"#ffffff",textDownColor:"#ffffff",textOverColor:"#ffffff",textUpColor:"#ffffff",fontSize:"32px",height:90,width:360,text:t,x:1e3,y:90,onClick:function(){e.resetMoveCount(),e.createPuzzle(),e.createStartButton("Re:start!"),e.startTimer()}})}},{key:"createScreenButton",value:function(t){var e=this;this.screenButton&&this.screenButton.destroy(!0),this.screenButton=new C({scene:this,borderColor:3552466,buttonColor:4341972,buttonOverColor:4341972,buttonDownColor:3815634,buttonUpColor:4341972,textColor:"#ffffff",textDownColor:"#ffffff",textOverColor:"#ffffff",textUpColor:"#ffffff",fontSize:"32px",height:90,width:360,text:t,x:1e3,y:200,onClick:function(){if(e.scale.isFullscreen)return e.scale.stopFullscreen(),void e.createScreenButton("startFullscreen");e.scale.startFullscreen(),e.createScreenButton("stopFullscreen")}})}},{key:"createMessageBox",value:function(t){var e=this;this.messageBox&&this.messageBox.destroy(!0),this.closeMessageBoxButton&&this.closeMessageBoxButton.destroy(!0),this.messageBox=new P({scene:this,textColor:"#32384d",fontSize:"32px",text:t,height:700,width:1e3,x:640,y:360}),this.closeMessageBoxButton=new C({scene:this,borderColor:3552466,buttonColor:4341972,buttonOverColor:4341972,buttonDownColor:3815634,buttonUpColor:4341972,textColor:"#ffffff",textDownColor:"#ffffff",textOverColor:"#ffffff",textUpColor:"#ffffff",fontSize:"48px",text:"Close",height:90,width:360,x:640,y:540,onClick:function(){e.messageBox&&e.messageBox.destroy(!0),e.closeMessageBoxButton&&e.closeMessageBoxButton.destroy(!0)}})}},{key:"checkComplete",value:function(){if(!this.group)return!1;for(var t=this.group.getChildren(),e=0;e<t.length;e++){var o=t[e];if(o.initialPositionX!==o.currentPositionX||o.initialPositionY!==o.currentPositionY)return!1}return!0}},{key:"shufflePieces",value:function(){if(this.group)for(var t=0;t<256;){var e=this.group.getChildren(),o=Math.floor(Math.random()*e.length);this.movePiece(e[o])&&t++}}},{key:"movePiece",value:function(t){var e=this.pieceCanMove(t);if(!e)return!1;var o=t.currentPositionX,n=t.currentPositionY;t.currentPositionX=e.currentPositionX,t.currentPositionY=e.currentPositionY,e.currentPositionX=o,e.currentPositionY=n;var i=w.frameWidth,r=w.frameHeight?w.frameHeight:0;return this.tweens.add({targets:t,x:t.currentPositionX*i+i/2,y:t.currentPositionY*r+r/2,duration:100,ease:f.a.Math.Easing.Linear(0)}),this.tweens.add({targets:e,x:e.currentPositionX*i+i/2,y:e.currentPositionY*r+r/2,ease:f.a.Math.Easing.Linear(0)}),!0}},{key:"pieceCanMove",value:function(t){var e=this.getPiece(t.currentPositionX,t.currentPositionY-1);if(void 0!==e&&0===e.initialPositionX&&0===e.initialPositionY)return e;var o=this.getPiece(t.currentPositionX,t.currentPositionY+1);if(void 0!==o&&0===o.initialPositionX&&0===o.initialPositionY)return o;var n=this.getPiece(t.currentPositionX-1,t.currentPositionY);if(void 0!==n&&0===n.initialPositionX&&0===n.initialPositionY)return n;var i=this.getPiece(t.currentPositionX+1,t.currentPositionY);return void 0!==i&&0===i.initialPositionX&&0===i.initialPositionY?i:void 0}},{key:"getPiece",value:function(t,e){if(this.group)for(var o=this.group.getChildren(),n=0;n<o.length;n++){var i=o[n];if(i.currentPositionX===t&&i.currentPositionY===e)return i}}}]),o}(f.a.Scene),Y={type:f.a.AUTO,width:1280,height:720,parent:"game",scale:{mode:f.a.Scale.ScaleModes.FIT,autoCenter:f.a.Scale.Center.CENTER_HORIZONTALLY,parent:"game",zoom:f.a.Scale.Zoom.MAX_ZOOM}},I=function(t){Object(u.a)(o,t);var e=Object(d.a)(o);function o(){var t;return Object(l.a)(this,o),(t=e.call(this,Object(s.a)(Object(s.a)({},Y),{},{backgroundColor:"#000000"}))).scene.add(g.PRELOAD,m),t.scene.add(g.SLIDING_PUZZLE,X),t.scene.start(g.PRELOAD,{nextSceneKey:g.SLIDING_PUZZLE}),t}return o}(f.a.Game),N=o(0);var F=function(){var t=Object(n.useState)(),e=Object(c.a)(t,2),o=e[0],i=e[1];return Object(n.useEffect)((function(){var t=new I;i(Object(s.a)(Object(s.a)({},o),{},{game:t}))}),[o]),Object(N.jsxs)("div",{className:"App",children:[Object(N.jsxs)("header",{className:"navbar",children:[Object(N.jsxs)("section",{className:"navbar-section",children:[Object(N.jsx)("a",{className:"navbar-brand mr-2",href:"https://github.com/kaminoctem/sliding-puzzle",children:"Sliding Puzzle"}),Object(N.jsxs)("a",{href:"https://kaminoctem.com/games/sliding-puzzle",className:"btn btn-link",children:[Object(N.jsx)("i",{className:"icon icon-link"}),"Original"]}),Object(N.jsxs)("a",{href:"https://github.com/kaminoctem/sliding-puzzle",className:"btn btn-link",children:[Object(N.jsx)("i",{className:"icon icon-link"}),"GitHub"]})]}),Object(N.jsx)("section",{className:"navbar-section"})]}),Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"column",children:Object(N.jsx)("div",{className:"p-centered",children:Object(N.jsx)("div",{id:"game",className:"game"})})})})})]})},L=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,24)).then((function(e){var o=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;o(t),n(t),i(t),r(t),a(t)}))};a.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)(F,{})}),document.getElementById("root")),L()}},[[23,1,2]]]);
//# sourceMappingURL=main.898ac679.chunk.js.map